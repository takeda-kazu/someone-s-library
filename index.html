<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>library_watch</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC-MaNFGTLeTsRLg8m5eXHc4qjrmwZpag4",
            authDomain: "takeda-649ef.firebaseapp.com",
            projectId: "takeda-649ef",
            storageBucket: "takeda-649ef.firebasestorage.app",
            messagingSenderId: "422163907833",
            appId: "1:422163907833:web:7ac41941d2e14083f84e28",
            measurementId: "G-5JBQQSMZ1T"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦è¨­å®š
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        
        console.log('Firebase initialized successfully');
    </script>
    
    <script src="books-data.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼: ã‚¢ãƒ—ãƒªã®ã‚¿ã‚¤ãƒˆãƒ« -->
    <header>
        <h1>â—â—ã®æœ¬æ£š</h1>
        <!-- ç®¡ç†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
        <div class="admin-controls">
            <button id="admin-mode-btn" class="admin-button">ç®¡ç†ãƒ¢ãƒ¼ãƒ‰</button>
            <button id="normal-mode-btn" class="admin-button" style="display: none;">é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹</button>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <main id="app">
        <!-- SC1: ä¸€è¦§ç”»é¢ -->
        <section id="screen-list" class="screen">
            <!-- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ï¼ˆç®¡ç†ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ã¿è¡¨ç¤ºï¼‰ -->
            <div id="search-controls" class="search-controls" style="display: none;">
                <input type="text" id="search-input" placeholder="æœ¬ã‚’æ¤œç´¢..." class="search-input">
                <select id="author-filter" class="author-filter">
                    <option value="">ã™ã¹ã¦ã®è‘—è€…</option>
                </select>
                <button id="add-book-btn" class="add-book-button">æ–°è¦è¿½åŠ </button>
            </div>
            
            <div id="book-list"></div>
        </section>

        <!-- SC2: è©³ç´°ç”»é¢ -->
        <section id="screen-detail" class="screen" style="display: none;">
            <button id="back-btn" class="back-button">â† æˆ»ã‚‹</button>
            <div id="book-detail-content">
                <!-- ã“ã“ã«æœ¬ã®è©³ç´°ãŒå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
            </div>
        </section>

        <!-- SC3: è¿½åŠ ãƒ»ç·¨é›†ç”»é¢ï¼ˆç®¡ç†ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ã¿è¡¨ç¤ºï¼‰ -->
        <section id="screen-edit" class="screen" style="display: none;">
            <button id="back-edit-btn" class="back-button">â† ä¸€è¦§ã«æˆ»ã‚‹</button>
            <div id="book-edit-content">
                <!-- ã“ã“ã«æœ¬ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ãŒå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
            </div>
        </section>
    </main>

    <!-- èªè¨¼ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>ç®¡ç†ãƒ¢ãƒ¼ãƒ‰èªè¨¼</h2>
                <button id="close-auth-modal-x" class="close-x">Ã—</button>
            </div>
            <div class="auth-form">
                <input type="email" id="auth-email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" class="auth-input">
                <input type="password" id="auth-password" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" class="auth-input">
                <button id="auth-login-btn" class="auth-button">ãƒ­ã‚°ã‚¤ãƒ³</button>
            </div>
            <div class="modal-buttons">
                <button id="close-auth-modal-btn" class="close-button">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
            </div>
        </div>
    </div>

    <!-- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤ºãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="prompt-modal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>ä¸Šå¸ã¨å¯¾è©±ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</h2>
                <button id="close-modal-x" class="close-x">Ã—</button>
            </div>
            <textarea id="prompt-text" class="prompt-textarea" readonly></textarea>
            <div class="modal-buttons">
                <button id="copy-btn" class="copy-button">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                <button id="close-modal-btn" class="close-button">é–‰ã˜ã‚‹</button>
            </div>
        </div>
    </div>

    <!-- ã‚³ãƒ”ãƒ¼æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="copy-success-modal" class="modal copy-success-modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content copy-success-content">
            <div class="modal-header copy-success-header">
                <h2>âœ¨ ã‚³ãƒ”ãƒ¼å®Œäº†</h2>
                <button id="close-copy-success-x" class="close-x">Ã—</button>
            </div>
            <div class="copy-success-message">
                <p>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚AIã«èª­ã¿è¾¼ã¾ã›ã¦å¯¾è©±ã—ã¾ã—ã‚‡ã†</p>
            </div>
            <div class="modal-buttons">
                <button id="close-copy-success-btn" class="close-button">é–‰ã˜ã‚‹</button>
            </div>
        </div>
    </div>
</body>
</html>

